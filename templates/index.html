<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spam Detection System</title>

    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

<div class="container">
    <h1>Spam Detection System</h1>
    <p>
        Enter any SMS / text / message (with or without URL) and click 
        <b>Predict</b>.
    </p>

    <!-- Form submits directly to FastAPI (NO JavaScript fetch) -->
    <form method="POST" action="/predict">
        <label for="message">Message</label>
        <textarea id="message" name="message" required>{{ input_text }}</textarea>

        <button type="submit" class="btn">Predict</button>
    </form>

    <!-- RESULT BLOCK -->
    {% if result %}
        {% if result.error %}
            <div class="error">{{ result.error }}</div>
        {% else %}
            <div class="card">
                <h2>Prediction: {{ result.Prediction }}</h2>

                <p><b>Final Spam Probability:</b> {{ result.Final_Spam_Probability }}</p>
                <p><b>Text Spam Probability:</b> {{ result.Text_Spam_Probability }}</p>
                <p><b>URL Spam Probability:</b> {{ result.URL_Spam_Probability }}</p>

                <p><b>Extracted URL:</b> {{ result.Extracted_URL }}</p>
                <p><b>Domain:</b> {{ result.Domain }}</p>
                <p><b>Safe Domain:</b> {{ result.Is_Safe_Domain }}</p>
            </div>
        {% endif %}
    {% endif %}
</div>

<script src="/static/app.js"></script>
</body>
</html>
